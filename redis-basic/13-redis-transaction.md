# redis transaction 事务

redis 事务的目的是方便用户一次执行多个命令。执行reids事务可分为三个阶段：开始事务、命令入队、执行事务。

## 事务特性

- 单独的隔离操作，所有命令都被序列化，按顺序执行，执行过程中不会被其他客户端发送的命令打断。
- 不保证原子性，如果存在命令执行失败的情况，那么其他命令依然会被执行，不支持事务回滚机制。

> redis 不支持事务回滚

```text
set key 0
multi // 开启事务
incr 1 // 命令入队成功
set num 10 // 命令入队成功
exec // 批量执行命令
```

> 若在事务A开启之前监听(watch)了某个 key，那么在事务A命令批量执行时，如果有其他客户端操作尝试修改该key，否则会导致事务A中断。